<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Code Generator (Offline AI)</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 2rem;
      background: #f0f0f0;
    }
    .container {
      max-width: 900px;
      margin: auto;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    textarea, input {
      padding: 1rem;
      font-family: monospace;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 14px;
      width: 100%;
    }
    textarea {
      height: 180px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Code Generator (Java/Kotlin + XML)</h2>
    <input id="prompt" placeholder="مثلاً: برنامه‌ای بساز که یک دکمه داشته باشه"/>

    <button onclick="generateCode()">Generate Code</button>

    <h4>Kotlin / Java Code:</h4>
    <textarea id="codeOutput" readonly></textarea>

    <h4>XML Layout:</h4>
    <textarea id="xmlOutput" readonly></textarea>
  </div>

  <script>
    function generateCode() {
      const prompt = document.getElementById("prompt").value.toLowerCase();
      const codeBox = document.getElementById("codeOutput");
      const xmlBox = document.getElementById("xmlOutput");

      if (prompt.includes("دکمه") || prompt.includes("button")) {
        codeBox.value = `
package com.example.buttonapp

import android.os.Bundle
import android.widget.Button
import android.widget.Toast
import androidx.appcompat.app.AppCompatActivity

class MainActivity : AppCompatActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    setContentView(R.layout.activity_main)

    val button = findViewById<Button>(R.id.myButton)
    button.setOnClickListener {
      Toast.makeText(this, "کلیک شد!", Toast.LENGTH_SHORT).show()
    }
  }
}
        `.trim();

        xmlBox.value = `
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="match_parent"
  android:layout_height="match_parent"
  android:orientation="vertical"
  android:gravity="center">

  <Button
    android:id="@+id/myButton"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="کلیک کن" />
</LinearLayout>
        `.trim();

      } else if (prompt.includes("متن") || prompt.includes("textview")) {
        codeBox.value = `
package com.example.textapp

import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity

class MainActivity : AppCompatActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    setContentView(R.layout.activity_main)
  }
}
        `.trim();

        xmlBox.value = `
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="match_parent"
  android:layout_height="match_parent"
  android:gravity="center"
  android:orientation="vertical">

  <TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="سلام دنیا!" />
</LinearLayout>
        `.trim();
      } else {
        codeBox.value = "// درخواست ناشناس - فعلاً پشتیبانی نمی‌شود.";
        xmlBox.value = "";
      }
    }
  </script>
</body>
</html>